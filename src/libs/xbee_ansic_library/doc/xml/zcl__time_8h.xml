<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="zcl__time_8h" kind="file" language="C++">
    <compoundname>zcl_time.h</compoundname>
    <includes local="no">time.h</includes>
    <includes refid="zcl_8h" local="yes">zigbee/zcl.h</includes>
    <includes local="yes">xbee/time.h</includes>
    <includedby refid="zcl__time_8c" local="yes">src/zigbee/zcl_time.c</includedby>
    <incdepgraph>
      <node id="993">
        <label>errno.h</label>
      </node>
      <node id="995">
        <label>xbee/jslong_glue.h</label>
        <link refid="jslong__glue_8h_source"/>
        <childnode refid="996" relation="include">
        </childnode>
      </node>
      <node id="1003">
        <label>xbee/time.h</label>
      </node>
      <node id="994">
        <label>stddef.h</label>
      </node>
      <node id="997">
        <label>wpan/aps.h</label>
        <link refid="aps_8h"/>
        <childnode refid="998" relation="include">
        </childnode>
      </node>
      <node id="1000">
        <label>xbee/byteorder.h</label>
        <link refid="byteorder_8h"/>
        <childnode refid="1001" relation="include">
        </childnode>
        <childnode refid="992" relation="include">
        </childnode>
      </node>
      <node id="991">
        <label>zigbee/zcl.h</label>
        <link refid="zcl_8h"/>
        <childnode refid="992" relation="include">
        </childnode>
        <childnode refid="997" relation="include">
        </childnode>
        <childnode refid="999" relation="include">
        </childnode>
      </node>
      <node id="1001">
        <label>string.h</label>
      </node>
      <node id="998">
        <label>wpan/types.h</label>
        <link refid="types_8h"/>
        <childnode refid="992" relation="include">
        </childnode>
      </node>
      <node id="992">
        <label>xbee/platform.h</label>
        <link refid="platform_8h"/>
        <childnode refid="993" relation="include">
        </childnode>
        <childnode refid="994" relation="include">
        </childnode>
        <childnode refid="995" relation="include">
        </childnode>
      </node>
      <node id="989">
        <label>include/zigbee/zcl_time.h</label>
        <link refid="zcl__time_8h"/>
        <childnode refid="990" relation="include">
        </childnode>
        <childnode refid="991" relation="include">
        </childnode>
        <childnode refid="1003" relation="include">
        </childnode>
      </node>
      <node id="999">
        <label>zigbee/zcl_types.h</label>
        <link refid="zcl__types_8h"/>
        <childnode refid="992" relation="include">
        </childnode>
        <childnode refid="1000" relation="include">
        </childnode>
        <childnode refid="1002" relation="include">
        </childnode>
      </node>
      <node id="1002">
        <label>zigbee/zcl64.h</label>
        <link refid="zcl64_8h"/>
        <childnode refid="992" relation="include">
        </childnode>
      </node>
      <node id="990">
        <label>time.h</label>
      </node>
      <node id="996">
        <label>xbee/jslong.h</label>
        <link refid="jslong_8h_source"/>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1005">
        <label>src/zigbee/zcl_time.c</label>
        <link refid="zcl__time_8c"/>
      </node>
      <node id="1004">
        <label>include/zigbee/zcl_time.h</label>
        <link refid="zcl__time_8h"/>
        <childnode refid="1005" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
      <sectiondef kind="user-defined">
      <description><para>Attributes of ZCL Time Cluster </para></description>
      <memberdef kind="define" id="group__zcl__time_1ga6abf0e2cc70ac533ebe153a40185be63" prot="public" static="no">
        <name>ZCL_TIME_ATTR_TIME</name>
        <initializer>0x0000</initializer>
        <briefdescription>
<para>3.12.2.2.1 Time Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="43" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="43" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga5931aa648c777cb21c8337249b6e1699" prot="public" static="no">
        <name>ZCL_TIME_ATTR_TIME_STATUS</name>
        <initializer>0x0001</initializer>
        <briefdescription>
<para>3.12.2.2.2 TimeStatus Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="45" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="45" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga28b3510bbe09eed7e47fe5b4f24c5bad" prot="public" static="no">
        <name>ZCL_TIME_ATTR_TIME_ZONE</name>
        <initializer>0x0002</initializer>
        <briefdescription>
<para>3.12.2.2.3 TimeZone Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="47" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="47" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1gaaf1e36f36654ae9f4d1c453cdf9b526b" prot="public" static="no">
        <name>ZCL_TIME_ATTR_DST_START</name>
        <initializer>0x0003</initializer>
        <briefdescription>
<para>3.12.2.2.4 DstStart Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="49" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="49" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga05ac335a9f642b671514517d8f4c4a16" prot="public" static="no">
        <name>ZCL_TIME_ATTR_DST_END</name>
        <initializer>0x0004</initializer>
        <briefdescription>
<para>3.12.2.2.5 DstEnd Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="51" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="51" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga62da9f7b4065ce9e96b0f818a4b9bb5c" prot="public" static="no">
        <name>ZCL_TIME_ATTR_DST_SHIFT</name>
        <initializer>0x0005</initializer>
        <briefdescription>
<para>3.12.2.2.6 DstShift Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="53" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="53" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1gac2ab06404c97ad9c24f6e53297966d06" prot="public" static="no">
        <name>ZCL_TIME_ATTR_STANDARD_TIME</name>
        <initializer>0x0006</initializer>
        <briefdescription>
<para>3.12.2.2.7 StandardTime Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="55" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="55" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1gad734cb8827c2307184fd74f1f1336c4f" prot="public" static="no">
        <name>ZCL_TIME_ATTR_LOCAL_TIME</name>
        <initializer>0x0007</initializer>
        <briefdescription>
<para>3.12.2.2.8 LocalTime Attribute </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="57" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="57" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="user-defined">
      <description><para>Bitfields for attribute <ref refid="group__zcl__time_1ga6abf0e2cc70ac533ebe153a40185be63" kindref="member">ZCL_TIME_ATTR_TIME</ref>, TimeStatus.</para><para>Bits 3-7 are reserved.</para><para>Per Section 3.12.2.2.2 of the ZCL spec:<itemizedlist>
<listitem><para>If the Master bit is 1, the value of [the Synchronized bit] is 0.</para></listitem><listitem><para>If both the Master and Synchronized bits are 0, the real time clock has no defined relationship to the time standard. </para></listitem></itemizedlist>
</para></description>
      <memberdef kind="define" id="group__zcl__time_1gabf057b123b136f20ade3faf065dcb298" prot="public" static="no">
        <name>ZCL_TIME_STATUS_MASTER</name>
        <initializer>0x01</initializer>
        <briefdescription>
<para>The RTC corresponding to the Time attribute is internally set to the time standard. </para>        </briefdescription>
        <detaileddescription>
<para>This bit should only be set if the host has reliably set its RTC. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="76" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="76" bodyend="-1"/>
        <referencedby refid="group__zcl__time_1ga052b988d6d2448af6640028b45ee1f68" compoundref="zcl__time_8c" startline="81" endline="113">_zcl_time_time_set</referencedby>
        <referencedby refid="group__zcl__time_1gad56f618c84b428540c5ffcb60095462c" compoundref="zcl__time_8c" startline="246" endline="259">zcl_time_now</referencedby>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga07fc4fc7df3e8b1b44817bcaa50b7170" prot="public" static="no">
        <name>ZCL_TIME_STATUS_SYNCHRONIZED</name>
        <initializer>0x02</initializer>
        <briefdescription>
<para>The Synchronized bit specifies whether Time has been set over the [ZigBee] network to synchronize it (as close as may be practical) to the time standard (see 3.12.1). </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="81" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="81" bodyend="-1"/>
        <referencedby refid="group__zcl__time_1gad56f618c84b428540c5ffcb60095462c" compoundref="zcl__time_8c" startline="246" endline="259">zcl_time_now</referencedby>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga76367e10cd6d032aad80cdd4786c1eca" prot="public" static="no">
        <name>ZCL_TIME_STATUS_MASTERZONEDST</name>
        <initializer>0x04</initializer>
        <briefdescription>
<para>The MasterZoneDst bit specifies whether the TimeZone, DstStart, DstEnd and DstShift attributes are set internally to correct values for the location of the clock. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="86" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="86" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="define">
      <memberdef kind="define" id="group__zcl__time_1ga838affe8c53b76cc63f8113a6f4ca3d4" prot="public" static="no">
        <name>zcl_gmtime</name>
        <param><defname>tm</defname></param>
        <param><defname>timestamp</defname></param>
        <initializer>xbee_gmtime( tm, timestamp)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="32" column="10" bodyfile="include/zigbee/zcl_time.h" bodystart="32" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga55a19a11c22e852cb463f73e28a6e608" prot="public" static="no">
        <name>zcl_mktime</name>
        <param><defname>tm</defname></param>
        <initializer>xbee_mktime( tm)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="33" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="33" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1gaa45500dbe82c2beea426914014e26fff" prot="public" static="no">
        <name>ZCL_CLUST_ENTRY_TIME_BOTH</name>
        <initializer>{ ZCL_CLUST_TIME,						\
			&amp;<ref refid="group__zcl__time_1ga2c66ee215547beae5b5dde4f23cc8e00" kindref="member">zcl_time_client</ref>,					\
			zcl_time_attribute_tree,		\
			<ref refid="group__wpan__aps_1gaf1185ec162a18803e11a83491bf57d3d" kindref="member">WPAN_CLUST_FLAG_INOUT</ref> | <ref refid="group__wpan__aps_1ga1eafd87038a2134da7a1f72e6801d23b" kindref="member">WPAN_CLUST_FLAG_ENCRYPT</ref> }</initializer>
        <briefdescription>
<para>Macro for inserting a standard Time Server (and Client) into an endpoint&apos;s cluster list. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="101" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="101" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1ga452ea03450fe395765c348b1154d6cf9" prot="public" static="no">
        <name>ZCL_CLUST_ENTRY_TIME_SERVER</name>
        <initializer>{ ZCL_CLUST_TIME,						\
			&amp;<ref refid="group__zcl_1gac3849121e93e777ce9a7510d24517b9b" kindref="member">zcl_general_command</ref>,									\
			zcl_time_attribute_tree,		\
			<ref refid="group__wpan__aps_1ga9e0a1a0abf5594d8fa5a38b1ca40b3bc" kindref="member">WPAN_CLUST_FLAG_SERVER</ref> | <ref refid="group__wpan__aps_1ga1eafd87038a2134da7a1f72e6801d23b" kindref="member">WPAN_CLUST_FLAG_ENCRYPT</ref> }</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="107" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="107" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group__zcl__time_1gac043586e4bfcfa93f631aa144158a17c" prot="public" static="no">
        <name>ZCL_CLUST_ENTRY_TIME_CLIENT</name>
        <initializer>{ ZCL_CLUST_TIME,						\
			&amp;<ref refid="group__zcl__time_1ga2c66ee215547beae5b5dde4f23cc8e00" kindref="member">zcl_time_client</ref>,					\
			<ref refid="group__zcl_1gad1e7f7dd501a7ab02f6004e4091c6bea" kindref="member">zcl_attributes_none</ref>,				\
			<ref refid="group__wpan__aps_1ga9aae0646b212af63cbb07c98a33cd986" kindref="member">WPAN_CLUST_FLAG_CLIENT</ref> | <ref refid="group__wpan__aps_1ga1eafd87038a2134da7a1f72e6801d23b" kindref="member">WPAN_CLUST_FLAG_ENCRYPT</ref> }</initializer>
        <briefdescription>
<para>Macro for inserting a standard Time Client (no Server) into an endpoint&apos;s cluster list. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="115" column="9" bodyfile="include/zigbee/zcl_time.h" bodystart="115" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="var">
      <memberdef kind="variable" id="group__zcl__time_1ga926f1bfd80ed5a894abfc872a292c556" prot="public" static="no" mutable="no">
        <type><ref refid="group__hal_1ga336bff4f4a6012aacc4468132bbd3d7f" kindref="member">XBEE_BEGIN_DECLS</ref> const <ref refid="structzcl__attribute__tree__t" kindref="compound">zcl_attribute_tree_t</ref></type>
        <definition>XBEE_BEGIN_DECLS const zcl_attribute_tree_t zcl_time_attribute_tree[]</definition>
        <argsstring>[]</argsstring>
        <name>zcl_time_attribute_tree</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="include/zigbee/zcl_time.h" line="37" column="1" bodyfile="src/zigbee/zcl_time.c" bodystart="223" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="group__zcl__time_1gad56f618c84b428540c5ffcb60095462c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>zcl_utctime_t</type>
        <definition>zcl_utctime_t zcl_time_now</definition>
        <argsstring>(void)</argsstring>
        <name>zcl_time_now</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
<para>Returns the current date/time, using the ZCL epoch of January 1, 2000. </para>        </briefdescription>
        <detaileddescription>
<para>Assumes that device has connected to a time server and updated its clock accordingly. Returns ZCL_UTCTIME_INVALID if the device has not synchronized its clock.</para><para>Do not use this value for tracking elapsed time <ndash/> use xbee_seconds_timer() or xbee_millisecond_timer() instead. The value may jump forward (or even backward) when the device decides to synchronize with a time server.</para><para><parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>ZCL_UTCTIME_INVALID</parametername>
</parameternamelist>
<parameterdescription>
<para>Clock not synchronized to a time source. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>0-0xFFFFFFFE</parametername>
</parameternamelist>
<parameterdescription>
<para>Number of elapsed seconds since midnight UTC on January 1, 2000.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="see"><para><ref refid="group__hal_1ga5c1a8bccd41acf1d7264a75698077749" kindref="member">xbee_seconds_timer</ref>, <ref refid="group__hal_1ga22b4e3df788254ca5f8530e9aee58515" kindref="member">xbee_millisecond_timer</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/zigbee/zcl_time.c" line="246" column="1" bodyfile="src/zigbee/zcl_time.c" bodystart="246" bodyend="259"/>
        <references refid="group__zcl__time_1ga9c0749b71318a4f7fd28d9112ffd5462" compoundref="zcl__time_8c" startline="124" endline="149">_zcl_time_time_get</references>
        <references refid="group__zcl__time_1gabf057b123b136f20ade3faf065dcb298" compoundref="zcl__time_8h" startline="76">ZCL_TIME_STATUS_MASTER</references>
        <references refid="group__zcl__time_1ga07fc4fc7df3e8b1b44817bcaa50b7170" compoundref="zcl__time_8h" startline="81">ZCL_TIME_STATUS_SYNCHRONIZED</references>
        <references refid="group__zcl__time_1ga4e1da84a7e72ee1626d6328252fd621a" compoundref="zcl__time_8c" startline="50">zcl_time_time</references>
        <references refid="group__zcl__time_1ga76f465fead960f138224d8e2a9a59469" compoundref="zcl__time_8c" startline="56">zcl_time_timestatus</references>
      </memberdef>
      <memberdef kind="function" id="group__zcl__time_1ga2c66ee215547beae5b5dde4f23cc8e00" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int zcl_time_client</definition>
        <argsstring>(const wpan_envelope_t FAR *envelope, void FAR *context)</argsstring>
        <name>zcl_time_client</name>
        <param>
          <type>const <ref refid="structwpan__envelope__t" kindref="compound">wpan_envelope_t</ref> <ref refid="group__hal_1gaef060b3456fdcc093a7210a762d5f2ed" kindref="member">FAR</ref> *</type>
          <declname>envelope</declname>
        </param>
        <param>
          <type>void <ref refid="group__hal_1gaef060b3456fdcc093a7210a762d5f2ed" kindref="member">FAR</ref> *</type>
          <declname>context</declname>
        </param>
        <briefdescription>
<para>Handle Read Attribute Responses to requests sent as part of the <ref refid="group__zcl__time_1ga32a901048d0bf5b6c6cf9a1cf7fb1e28" kindref="member">zcl_time_find_servers()</ref> process. </para>        </briefdescription>
        <detaileddescription>
<para>This function expects to receive &quot;read attribute response&quot; packets ONLY for reads of Time and TimeStatus.</para><para>If responding device is a master or is synchronized with one, use it&apos;s Time value to update a &quot;skew&quot; global used to track the offset between system time (which may just be &quot;seconds of uptime&quot;) and calendar time.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">envelope</parametername>
</parameternamelist>
<parameterdescription>
<para>envelope from received message </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">context</parametername>
</parameternamelist>
<parameterdescription>
<para>pointer to attribute list for cluster (typically passed in via endpoint dispatcher)</para></parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>0</parametername>
</parameternamelist>
<parameterdescription>
<para>Command was processed and default response (with either success or error status) was sent.</para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>!0</parametername>
</parameternamelist>
<parameterdescription>
<para>Error sending default response; time may or may not have been set. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/zigbee/zcl_time.c" line="291" column="1" bodyfile="src/zigbee/zcl_time.c" bodystart="291" bodyend="392"/>
        <references refid="group__zcl_1ga1a5aaa930940857f68f245eeb89506b5" compoundref="zcl_8h" startline="889">zcl_command_t::command</references>
        <references refid="group__hal_1gaef060b3456fdcc093a7210a762d5f2ed" compoundref="platform_8h" startline="370">FAR</references>
        <references refid="group__zcl_1ga5226462a41663bc81a5d67c04f18868a" compoundref="zcl_8h" startline="882">zcl_command_t::frame_control</references>
        <references refid="group__zcl_1ga0bbd651dae138e104715e6e2de62084e" compoundref="zcl_8h" startline="261">ZCL_CMD_MATCH</references>
        <references refid="group__zcl_1ga85ca2068c5dc26db307b60b0ac54bc9c" compoundref="zcl_8h" startline="357">ZCL_CMD_READ_ATTRIB_RESP</references>
        <references refid="group__zcl_1gadeb35ab493fffec9ba1c33f658929136" compoundref="zigbee__zcl_8c" startline="1474" endline="1545">zcl_command_build</references>
      </memberdef>
      <memberdef kind="function" id="group__zcl__time_1ga32a901048d0bf5b6c6cf9a1cf7fb1e28" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int zcl_time_find_servers</definition>
        <argsstring>(wpan_dev_t *dev, uint16_t profile_id)</argsstring>
        <name>zcl_time_find_servers</name>
        <param>
          <type><ref refid="structwpan__dev__t" kindref="compound">wpan_dev_t</ref> *</type>
          <declname>dev</declname>
        </param>
        <param>
          <type><ref refid="group__hal__dos_1ga5a8b2dc9e45a9ee81a94ef304fb62505" kindref="member">uint16_t</ref></type>
          <declname>profile_id</declname>
        </param>
        <briefdescription>
<para>Find Time Servers on the network, query them for the current time and then synchronize this device&apos;s clock to that time. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>This function uses a static buffer to hold context information for the ZDO responder that generates the ZCL Read Attributes request. Wait at least 60 seconds between calls to allow for earlier requests to time out.</para></simplesect>
<simplesect kind="note"><para>This function will only work correctly if the Time Cluster Client in your endpoint table is using the <ref refid="group__zcl__time_1ga2c66ee215547beae5b5dde4f23cc8e00" kindref="member">zcl_time_client()</ref> function as its callback handler. If you use the ZCL_CLUST_ENTRY_TIME_CLIENT or ZCL_CLUST_ENTRY_TIME_BOTH macro, the client cluster is set up correctly.</para></simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername direction="in">dev</parametername>
</parameternamelist>
<parameterdescription>
<para>device to send query on </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername direction="in">profile_id</parametername>
</parameternamelist>
<parameterdescription>
<para>profile ID to match in endpoint table or #WPAN_APS_PROFILE_ANY to use the first endpoint with a Time Cluster Client</para></parameterdescription>
</parameteritem>
</parameterlist>
<parameterlist kind="retval"><parameteritem>
<parameternamelist>
<parametername>0</parametername>
</parameternamelist>
<parameterdescription>
<para>Successfully issued ZDO Match Descriptor Request to find Time Cluster Servers on the network. No guarantee that we&apos;ll get a response. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>!0</parametername>
</parameternamelist>
<parameterdescription>
<para>Some sort of error occurred in generating or sending the ZDO Match Descriptor Request. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>-EINVAL</parametername>
</parameternamelist>
<parameterdescription>
<para>Couldn&apos;t find a Time Cluster Client with <computeroutput>profile_id</computeroutput> in the endpoint table of <computeroutput>dev</computeroutput>. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="src/zigbee/zcl_time.c" line="427" column="1" bodyfile="src/zigbee/zcl_time.c" bodystart="427" bodyend="464"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>Header for implementation of ZigBee Time Cluster (ZCL Spec section 3.12). </para>    </briefdescription>
    <detaileddescription>
<para>Numbers in comments refer to sections of ZigBee Cluster Library specification (Document 075123r02ZB). </para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(c)<sp/>2010-2012<sp/>Digi<sp/>International<sp/>Inc.,</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>All<sp/>rights<sp/>not<sp/>expressly<sp/>granted<sp/>are<sp/>reserved.</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>This<sp/>Source<sp/>Code<sp/>Form<sp/>is<sp/>subject<sp/>to<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>Mozilla<sp/>Public</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>License,<sp/>v.<sp/>2.0.<sp/>If<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>MPL<sp/>was<sp/>not<sp/>distributed<sp/>with<sp/>this<sp/>file,</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>You<sp/>can<sp/>obtain<sp/>one<sp/>at<sp/>http://mozilla.org/MPL/2.0/.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>Digi<sp/>International<sp/>Inc.<sp/>11001<sp/>Bren<sp/>Road<sp/>East,<sp/>Minnetonka,<sp/>MN<sp/>55343</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>=======================================================================</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="preprocessor">#ifndef<sp/>__XBEE_ZCL_TIME_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>__XBEE_ZCL_TIME_H</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;time.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="zcl_8h" kindref="compound">zigbee/zcl.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">//<sp/>macros<sp/>for<sp/>backward<sp/>compatibility<sp/>with<sp/>old<sp/>API</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;xbee/time.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>zcl_gmtime(<sp/>tm,<sp/>timestamp)<sp/><sp/><sp/><sp/><sp/>xbee_gmtime(<sp/>tm,<sp/>timestamp)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>zcl_mktime(<sp/>tm)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xbee_mktime(<sp/>tm)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><ref refid="group__hal_1ga336bff4f4a6012aacc4468132bbd3d7f" kindref="member">XBEE_BEGIN_DECLS</ref></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structzcl__attribute__tree__t" kindref="compound">zcl_attribute_tree_t</ref><sp/>zcl_time_attribute_tree[];</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="43" refid="group__zcl__time_1ga6abf0e2cc70ac533ebe153a40185be63" refkind="member"><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_TIME<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_TIME_STATUS<sp/><sp/><sp/><sp/><sp/><sp/>0x0001</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_TIME_ZONE<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0002</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_DST_START<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0003</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_DST_END<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0004</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_DST_SHIFT<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0005</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_STANDARD_TIME<sp/><sp/><sp/><sp/>0x0006</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_TIME_ATTR_LOCAL_TIME<sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x0007</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"></codeline>
<codeline lineno="73"><highlight class="preprocessor">#define<sp/>ZCL_TIME_STATUS_MASTER<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0x01</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="81" refid="group__zcl__time_1ga07fc4fc7df3e8b1b44817bcaa50b7170" refkind="member"><highlight class="preprocessor">#define<sp/>ZCL_TIME_STATUS_SYNCHRONIZED<sp/><sp/><sp/>0x02</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="86" refid="group__zcl__time_1ga76367e10cd6d032aad80cdd4786c1eca" refkind="member"><highlight class="preprocessor">#define<sp/>ZCL_TIME_STATUS_MASTERZONEDST<sp/><sp/>0x04</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="comment">//<sp/>what<sp/>time<sp/>is<sp/>it?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal">zcl_utctime_t<sp/><ref refid="group__zcl__time_1gad56f618c84b428540c5ffcb60095462c" kindref="member">zcl_time_now</ref>(<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">//<sp/>processes<sp/>Read<sp/>Attribute<sp/>Responses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__zcl__time_1ga2c66ee215547beae5b5dde4f23cc8e00" kindref="member">zcl_time_client</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structwpan__envelope__t" kindref="compound">wpan_envelope_t</ref><sp/><ref refid="group__hal_1gaef060b3456fdcc093a7210a762d5f2ed" kindref="member">FAR</ref><sp/>*envelope,</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="group__hal_1gaef060b3456fdcc093a7210a762d5f2ed" kindref="member">FAR</ref><sp/>*context);</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="comment">//<sp/>initiate<sp/>discovery<sp/>of<sp/>time<sp/>servers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="group__zcl__time_1ga32a901048d0bf5b6c6cf9a1cf7fb1e28" kindref="member">zcl_time_find_servers</ref>(<sp/><ref refid="structwpan__dev__t" kindref="compound">wpan_dev_t</ref><sp/>*dev,<sp/><ref refid="group__hal__dos_1ga5a8b2dc9e45a9ee81a94ef304fb62505" kindref="member">uint16_t</ref><sp/>profile_id);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="101" refid="group__zcl__time_1gaa45500dbe82c2beea426914014e26fff" refkind="member"><highlight class="preprocessor">#define<sp/>ZCL_CLUST_ENTRY_TIME_BOTH<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="102"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>ZCL_CLUST_TIME,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="103"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;zcl_time_client,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="104"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zcl_time_attribute_tree,<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="105"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WPAN_CLUST_FLAG_INOUT<sp/>|<sp/>WPAN_CLUST_FLAG_ENCRYPT<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>ZCL_CLUST_ENTRY_TIME_SERVER<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="108"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>ZCL_CLUST_TIME,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="109"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;zcl_general_command,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="110"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zcl_time_attribute_tree,<sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="111"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WPAN_CLUST_FLAG_SERVER<sp/>|<sp/>WPAN_CLUST_FLAG_ENCRYPT<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="group__zcl__time_1gac043586e4bfcfa93f631aa144158a17c" refkind="member"><highlight class="preprocessor">#define<sp/>ZCL_CLUST_ENTRY_TIME_CLIENT<sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="116"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/>ZCL_CLUST_TIME,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="117"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;zcl_time_client,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="118"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>zcl_attributes_none,<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>\</highlight></codeline>
<codeline lineno="119"><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WPAN_CLUST_FLAG_CLIENT<sp/>|<sp/>WPAN_CLUST_FLAG_ENCRYPT<sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><ref refid="group__hal_1ga8d7f5a691878e9ffb7da396899581062" kindref="member">XBEE_END_DECLS</ref></highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>__DC__</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/>#use<sp/>&quot;zcl_time.c&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/><sp/><sp/>//<sp/>__XBEE_ZCL_TIME_H</highlight></codeline>
    </programlisting>
    <location file="include/zigbee/zcl_time.h"/>
  </compounddef>
</doxygen>
