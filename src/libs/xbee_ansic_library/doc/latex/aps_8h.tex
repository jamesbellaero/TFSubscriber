\hypertarget{aps_8h}{}\section{include/wpan/aps.h File Reference}
\label{aps_8h}\index{include/wpan/aps.\+h@{include/wpan/aps.\+h}}


Cluster/\+Endpoint layer for W\+P\+AN networks (Zig\+Bee and Digi\+Mesh).  


{\ttfamily \#include \char`\"{}wpan/types.\+h\char`\"{}}\newline
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t}
\begin{DoxyCompactList}\small\item\em The \char`\"{}envelope\char`\"{} is used to gather all necessary information about a given frame on the network. \end{DoxyCompactList}\item 
struct \hyperlink{structwpan__cluster__table__entry__t}{wpan\+\_\+cluster\+\_\+table\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Information on each cluster associated with an endpoint. \end{DoxyCompactList}\item 
struct \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t}
\begin{DoxyCompactList}\small\item\em Information on each endpoint on this device. \end{DoxyCompactList}\item 
struct \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t}
\begin{DoxyCompactList}\small\item\em Structure used by the W\+P\+A\+N/\+Zig\+Bee layers. \end{DoxyCompactList}\item 
struct \hyperlink{structwpan__conversation__t}{wpan\+\_\+conversation\+\_\+t}
\begin{DoxyCompactList}\small\item\em Used to track conversations (outstanding requests) on an endpoint. \end{DoxyCompactList}\item 
struct \hyperlink{structwpan__ep__state__t}{wpan\+\_\+ep\+\_\+state\+\_\+t}
\begin{DoxyCompactList}\small\item\em Volatile part of an endpoint record used to track conversations (requests waiting for responses). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_ga6a6e8a32dc7117f44bdca2802a1e54aa}{W\+P\+A\+N\+\_\+\+E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+C\+L\+U\+S\+T\+E\+R\+\_\+\+F\+L\+A\+GS}~0x00\+FF
\begin{DoxyCompactList}\small\item\em mask of W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+$\ast$ flags for the cluster tied to this envelope \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga92a0f27267b04aa691e184b428e8f7c6}{W\+P\+A\+N\+\_\+\+E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+A\+D\+DR}~0x0100
\begin{DoxyCompactList}\small\item\em frame was received on a broadcast address \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga9572c340b083c6a51b0473fee184ea2c}{W\+P\+A\+N\+\_\+\+E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+B\+R\+O\+A\+D\+C\+A\+S\+T\+\_\+\+EP}~0x0200
\begin{DoxyCompactList}\small\item\em frame was received on the broadcast endpoint (0x\+FF) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga3bf12c3b9fd0afac2c9f58de8e7c38e9}{W\+P\+A\+N\+\_\+\+E\+N\+V\+E\+L\+O\+P\+E\+\_\+\+R\+X\+\_\+\+A\+P\+S\+\_\+\+E\+N\+C\+R\+Y\+PT}~0x0400
\begin{DoxyCompactList}\small\item\em frame was received with A\+PS encryption \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gacbfdff1cef70167f178c4e05b69f65fe}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+E\+R\+\_\+\+E\+N\+D\+\_\+\+O\+F\+\_\+\+L\+I\+ST}~0x\+F\+F\+FF
\begin{DoxyCompactList}\small\item\em Cluster ID used to mark the end of {\ttfamily cluster\+\_\+table} in \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga55a7fbd8adf019d268f17b6ede90fe0f}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+E\+N\+T\+R\+Y\+\_\+\+L\+I\+S\+T\+\_\+\+E\+ND}~\{ \hyperlink{group__wpan__aps_gacbfdff1cef70167f178c4e05b69f65fe}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+E\+R\+\_\+\+E\+N\+D\+\_\+\+O\+F\+\_\+\+L\+I\+ST} \}
\begin{DoxyCompactList}\small\item\em Macro for a \hyperlink{structwpan__cluster__table__entry__t}{wpan\+\_\+cluster\+\_\+table\+\_\+entry\+\_\+t} that can be used to mark the end of the table. \end{DoxyCompactList}\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}~0x0000
\item 
\#define \hyperlink{group__wpan__aps_gaa06c0d38b4a130f9657abf26c73b49dd}{W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+J\+O\+I\+N\+ED}~0x0001
\begin{DoxyCompactList}\small\item\em device has joined a network (but not necessarily authenticated) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga6508b417838fc0a043f5570b65e3f24b}{W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+ED}~0x0002
\begin{DoxyCompactList}\small\item\em device completed Key Establishment and can send A\+PS encrypted frames \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gab7d95fae8b625fd39ae3b6f168a5511f}{W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+I\+O\+N\+\_\+\+E\+N\+A\+B\+L\+ED}~0x0004
\begin{DoxyCompactList}\small\item\em device has encryption enabled (EO non-\/zero) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gabe1e612e16ea40f970a7f160cae6de3a}{W\+P\+A\+N\+\_\+\+D\+E\+V\+\_\+\+I\+S\+\_\+\+J\+O\+I\+N\+ED}(dev)~((dev)-\/$>$flags \& \hyperlink{group__wpan__aps_gaa06c0d38b4a130f9657abf26c73b49dd}{W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+J\+O\+I\+N\+ED})
\begin{DoxyCompactList}\small\item\em Macro to test whether a device has joined the network. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga5ba1c4d72eeac9bb8bd97ee811d7aa05}{W\+P\+A\+N\+\_\+\+D\+E\+V\+\_\+\+I\+S\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+ED}(dev)~((dev)-\/$>$flags \& \hyperlink{group__wpan__aps_ga6508b417838fc0a043f5570b65e3f24b}{W\+P\+A\+N\+\_\+\+F\+L\+A\+G\+\_\+\+A\+U\+T\+H\+E\+N\+T\+I\+C\+A\+T\+ED})
\begin{DoxyCompactList}\small\item\em Macro to test whether a device has authenticated with the trust center. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga0ca55f0e8039df7fba03c041e4cf5a79}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+E\+N\+D\+\_\+\+O\+F\+\_\+\+L\+I\+ST}~0x\+FF
\begin{DoxyCompactList}\small\item\em Endpoint ID used to mark the end of {\ttfamily endpoint\+\_\+table} in \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gaac571cafa96f8201c714feb0634afa92}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+T\+A\+B\+L\+E\+\_\+\+E\+ND}~\{ \hyperlink{group__wpan__aps_ga0ca55f0e8039df7fba03c041e4cf5a79}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+E\+N\+D\+\_\+\+O\+F\+\_\+\+L\+I\+ST} \}
\begin{DoxyCompactList}\small\item\em Macro for a \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} that can be used to mark the end of the table. \end{DoxyCompactList}\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+A\+P\+S\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+A\+NY}~0x\+F\+F\+FF
\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+C\+O\+N\+V\+E\+R\+S\+A\+T\+I\+O\+N\+\_\+\+E\+ND}~1
\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+C\+O\+N\+V\+E\+R\+S\+A\+T\+I\+O\+N\+\_\+\+C\+O\+N\+T\+I\+N\+UE}~2
\item 
\#define \hyperlink{group__wpan__aps_gae34b1efc8ba99add17fcd767852197d4}{W\+P\+A\+N\+\_\+\+M\+A\+X\+\_\+\+C\+O\+N\+V\+E\+R\+S\+A\+T\+I\+O\+NS}~3
\begin{DoxyCompactList}\small\item\em Number of outstanding requests to track in a \hyperlink{structwpan__ep__state__t}{wpan\+\_\+ep\+\_\+state\+\_\+t} associated with an endpoint. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gaaa330f432d7a6bccdb393a656ddfe4d3}{W\+P\+A\+N\+\_\+\+C\+O\+N\+V\+E\+R\+S\+A\+T\+I\+O\+N\+\_\+\+T\+I\+M\+E\+O\+UT}~30
\begin{DoxyCompactList}\small\item\em Default conversation recycle timeout (seconds) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_ga8575b0db762a5fbb858d4994c9b657e3}{wpan\+\_\+aps\+\_\+handler\+\_\+fn}) (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope, void \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$context)
\begin{DoxyCompactList}\small\item\em General handler used in the cluster table. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_ga23d4e0e2f2137c75700dfec73b2cc80f}{wpan\+\_\+ep\+\_\+handler\+\_\+fn}) (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope, struct \hyperlink{structwpan__ep__state__t}{wpan\+\_\+ep\+\_\+state\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$ep\+\_\+state)
\begin{DoxyCompactList}\small\item\em General handler used in the endpoint table. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_ga505477d0257efe527747c6d1f561cd6c}{wpan\+\_\+endpoint\+\_\+send\+\_\+fn}) (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} flags)
\begin{DoxyCompactList}\small\item\em Function called by the W\+P\+AN A\+PS layer to send a frame out on the network. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_ga9287e4838cc6dc51febe18acab6738ce}{\+\_\+wpan\+\_\+config\+\_\+fn}) (struct \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev,...)
\begin{DoxyCompactList}\small\item\em Function called by the W\+P\+AN A\+PS layer to configure the underlying network device. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_gafed1542f6becf2d81fd84ef2f0ae2833}{wpan\+\_\+tick\+\_\+fn}) (struct \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev)
\begin{DoxyCompactList}\small\item\em Function called by the W\+P\+AN A\+PS layer to have the underlying device read and dispatch frames. \end{DoxyCompactList}\item 
typedef const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$($\ast$ \hyperlink{group__wpan__aps_ga4239e4654962f88f42a53abae18e7827}{wpan\+\_\+endpoint\+\_\+get\+\_\+next\+\_\+fn}) (struct \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev, const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ep)
\begin{DoxyCompactList}\small\item\em Custom function for walking the endpoint table. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__wpan__aps_gabf0a6b85c9ff3ff9104c8b58c1436d72}{wpan\+\_\+response\+\_\+fn}) (struct \hyperlink{structwpan__conversation__t}{wpan\+\_\+conversation\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$conversation, const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope)
\begin{DoxyCompactList}\small\item\em Handler registered with \hyperlink{group__wpan__aps_gae5f88ed40bd334d963e261947b77b980}{wpan\+\_\+conversation\+\_\+register()} to process responses to outstanding requests. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__wpan__aps_ga1227ab13b41d82d9c9c9080662f74cf7}{wpan\+\_\+clust\+\_\+digi} \{ \newline
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7ac46c70b2d273c05acf42fd4a19583187}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+S\+L\+E\+E\+P\+\_\+\+S\+Y\+NC} = 0x0009, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a8208e143b452d11140e487d7d29eb38f}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+S\+E\+R\+I\+AL} = 0x0011, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a378346cc570b606ab6984ade7e1ff01d}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+L\+O\+O\+P\+B\+A\+CK} = 0x0012, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7ae94c438b8e786806a840eb6cae8603fd}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+N\+D\+\_\+\+C\+O\+M\+M\+A\+ND} = 0x0015, 
\newline
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a6606012ac5ed20a518f28ff156be7652}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+D\+N\+\_\+\+C\+O\+M\+M\+A\+ND} = 0x0016, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7aa637ec5b1224724b075a36eefa351126}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+R\+E\+M\+O\+T\+E\+\_\+\+C\+O\+M\+M\+A\+ND} = 0x0021, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7ae81533aa4490e5001cc0866c0572fc2e}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+N\+R\+\_\+\+C\+O\+M\+M\+A\+ND} = 0x0022, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a66527ddc0653858888ce47c469c95349}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+I\+O\+D\+A\+TA} = 0x0092, 
\newline
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a8d4df2bd5e335f87df0e038e803796ef}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+W\+A\+T\+C\+H\+P\+O\+RT} = 0x0094, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7ad19431fd18576cc8463e8ac362a8579c}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+N\+O\+D\+E\+I\+D\+\_\+\+M\+E\+S\+S\+A\+GE} = 0x0095, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a1705862df524f4ecaab07a18a0b3f0d1}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+D\+N\+\_\+\+R\+E\+S\+P\+O\+N\+SE} = 0x0096, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a84486276a61e57d2d2ff9a85d052fdb5}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+R\+E\+M\+O\+T\+E\+\_\+\+R\+E\+S\+P\+O\+N\+SE} = 0x00\+A1, 
\newline
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a29b2b3f9713deb027140197f2ef499fa}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+N\+R\+\_\+\+R\+E\+S\+P\+O\+N\+SE} = 0x00\+A2, 
{\bfseries D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+I\+N\+D\+I\+R\+E\+C\+T\+\_\+\+R\+O\+U\+T\+E\+\_\+\+E\+RR} = 0x00\+B0, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7aedb825ada66b8c7bbfbeaee6d9dfba0a}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+P\+R\+O\+G\+\_\+\+X\+B\+E\+E\+\_\+\+O\+T\+A\+\_\+\+U\+PD} = 0x1000, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a95c58dbf91ce9b915abdc1fdbc236ebe}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+N\+B\+R\+F\+W\+U\+P\+D\+A\+TE} = 0x71\+FE, 
\newline
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7a378e1e715bf4f25284c4739dccdc8c79}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+R\+E\+M\+F\+W\+U\+P\+D\+A\+TE} = 0x71\+FF, 
\hyperlink{group__wpan__aps_gga1227ab13b41d82d9c9c9080662f74cf7abc3b7a2d5a20c8f541dce60eb523694f}{D\+I\+G\+I\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+W\+U\+P\+D\+A\+T\+E\+R\+E\+SP} = (int)0x\+F1\+FF
 \}\begin{DoxyCompactList}\small\item\em Digi Data cluster I\+Ds (endpoint \hyperlink{group__wpan__aps_ga83cb85a2a1e374554f9ad735c9c06e7b}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+I\+G\+I\+\_\+\+D\+A\+TA}) \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_ga1254464011d2d98c13db7b0b3d41c25b}{wpan\+\_\+tick} (\hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev)
\begin{DoxyCompactList}\small\item\em Calls the underlying hardware tick function to process received frames, and times out expired conversations. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug const \hyperlink{structwpan__cluster__table__entry__t}{wpan\+\_\+cluster\+\_\+table\+\_\+entry\+\_\+t} $\ast$ \hyperlink{group__wpan__aps_ga1c725384b21faf5953683d7b028c7be3}{wpan\+\_\+cluster\+\_\+match} (\hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} match, \hyperlink{group__hal__dos_gae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t} mask, const \hyperlink{structwpan__cluster__table__entry__t}{wpan\+\_\+cluster\+\_\+table\+\_\+entry\+\_\+t} $\ast$entry)
\begin{DoxyCompactList}\small\item\em Search a cluster table for a matching cluster ID. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ \hyperlink{group__wpan__aps_gaca3b72047ea4e156ce9a977c13624b5c}{wpan\+\_\+endpoint\+\_\+get\+\_\+next} (\hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev, const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ep)
\begin{DoxyCompactList}\small\item\em Function used to walk a device\textquotesingle{}s endpoint table. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ \hyperlink{group__wpan__aps_ga0a88c1b17d1f9a42a53668b14f15e205}{wpan\+\_\+endpoint\+\_\+match} (\hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev, \hyperlink{group__hal__dos_gae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t} \hyperlink{group__zdo_ga7d397493728da2bca8d55b2d61c4ec5d}{endpoint}, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} profile\+\_\+id)
\begin{DoxyCompactList}\small\item\em Walk a device\textquotesingle{}s endpoint table looking for a matching endpoint ID and profile ID. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ \hyperlink{group__wpan__aps_gab448ec18a47178272336da5eacfa2290}{wpan\+\_\+endpoint\+\_\+of\+\_\+envelope} (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} $\ast$env)
\begin{DoxyCompactList}\small\item\em Look up the endpoint table entry for the source endpoint of an envelope. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ \hyperlink{group__wpan__aps_ga2cc975231963e0eb75c449c11b1d95de}{wpan\+\_\+endpoint\+\_\+of\+\_\+cluster} (\hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} profile\+\_\+id, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} cluster\+\_\+id, \hyperlink{group__hal__dos_gae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t} mask)
\begin{DoxyCompactList}\small\item\em Walk a device\textquotesingle{}s endpoint table looking for a matching profile ID and cluster ID. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug void \hyperlink{group__wpan__aps_ga95e2bb4e4c546191c059f54179064fc3}{wpan\+\_\+envelope\+\_\+create} (\hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} $\ast$envelope, \hyperlink{structwpan__dev__t}{wpan\+\_\+dev\+\_\+t} $\ast$dev, const \hyperlink{unionaddr64}{addr64} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$ieee, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} network\+\_\+addr)
\begin{DoxyCompactList}\small\item\em Starting with a blank envelope, fill in the device, 64-\/bit I\+E\+EE address and 16-\/bit network address of the destination. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_gaaaee02ff456d4f6103a5e94c2ba106c5}{wpan\+\_\+envelope\+\_\+reply} (\hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$reply, const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$original)
\begin{DoxyCompactList}\small\item\em Create a reply envelope based on the envelope received from a remote node. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_ga06f1e9e86b74ef807ded44b79b13e283}{wpan\+\_\+envelope\+\_\+send} (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope)
\begin{DoxyCompactList}\small\item\em Send a message to an endpoint using address and payload information stored in a \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} structure. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug void \hyperlink{group__wpan__aps_ga2a4e8b3e2022e55e6607243a5feb25cd}{wpan\+\_\+envelope\+\_\+dump} (const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope)
\begin{DoxyCompactList}\small\item\em Debugging function to dump the contents of an envelope to stdout. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_gae5f88ed40bd334d963e261947b77b980}{wpan\+\_\+conversation\+\_\+register} (\hyperlink{structwpan__ep__state__t}{wpan\+\_\+ep\+\_\+state\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$state, \hyperlink{group__wpan__aps_gabf0a6b85c9ff3ff9104c8b58c1436d72}{wpan\+\_\+response\+\_\+fn} handler, const void \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$context, \hyperlink{group__hal__dos_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\+\_\+t} timeout)
\begin{DoxyCompactList}\small\item\em Add a conversation to the table of tracked conversations. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_gaf56e4d0e52462b5cf41c5fa5f23ea952}{wpan\+\_\+conversation\+\_\+response} (\hyperlink{structwpan__ep__state__t}{wpan\+\_\+ep\+\_\+state\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$state, \hyperlink{group__hal__dos_gae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t} transaction\+\_\+id, const \hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$envelope)
\begin{DoxyCompactList}\small\item\em Searches the endpoint\textquotesingle{}s table of active conversations (outstanding requests waiting for responses) for a given transaction. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug \hyperlink{group__hal__dos_gae1affc9ca37cfb624959c866a73f83c2}{uint8\+\_\+t} \hyperlink{group__wpan__aps_gaab1c77ccbd237270f11499fb6411599c}{wpan\+\_\+endpoint\+\_\+next\+\_\+trans} (const \hyperlink{structwpan__endpoint__table__entry__t}{wpan\+\_\+endpoint\+\_\+table\+\_\+entry\+\_\+t} $\ast$ep)
\begin{DoxyCompactList}\small\item\em Increment and return the endpoint\textquotesingle{}s transaction ID counter. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug int \hyperlink{group__wpan__aps_gae84eafd10f51de6cdac4732b8948606d}{wpan\+\_\+envelope\+\_\+dispatch} (\hyperlink{structwpan__envelope__t}{wpan\+\_\+envelope\+\_\+t} $\ast$envelope)
\begin{DoxyCompactList}\small\item\em Find the matching endpoint for the provided {\ttfamily envelope} and have it process the frame. \end{DoxyCompactList}\item 
wpan\+\_\+aps\+\_\+debug void \hyperlink{group__wpan__aps_gad36c04a3f2741f52710ab7768d1fcda8}{wpan\+\_\+conversation\+\_\+delete} (\hyperlink{structwpan__conversation__t}{wpan\+\_\+conversation\+\_\+t} \hyperlink{group__hal_gaef060b3456fdcc093a7210a762d5f2ed}{F\+AR} $\ast$conversation)
\begin{DoxyCompactList}\small\item\em Delete a conversation from an endpoint\textquotesingle{}s conversation table. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Zig\+Bee Stack Profile I\+Ds}
\label{_amgrp53635a0a6c11f45c3462a5d59d0da424}%
4-\/bit values used in Zig\+Bee beacons \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_ga6c74dccd9d25158e8fae5f405708a412}{W\+P\+A\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+P\+R\+O\+P\+R\+I\+E\+T\+A\+RY}~0x0
\begin{DoxyCompactList}\small\item\em Network Specific. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga7836a9ee2baaed24f5f4f8368aee7ef4}{W\+P\+A\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+Z\+I\+G\+B\+EE}~0x1
\begin{DoxyCompactList}\small\item\em Zig\+Bee (2006) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga9f0ebaaaa46a7bdaa646050b927d5dbb}{W\+P\+A\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+Z\+I\+G\+B\+E\+E\+\_\+\+P\+RO}~0x2
\begin{DoxyCompactList}\small\item\em Zig\+Bee P\+RO (2007) \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_gabdbce33bdd976b65877a241842b73a20}{W\+P\+A\+N\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+Z\+DO}~0x0000
\begin{DoxyCompactList}\small\item\em Zig\+Bee Device Object (aka Zig\+Bee Device Profile) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga7cc56763cce2df7785d8d5e75f9e1a40}{W\+P\+A\+N\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+S\+M\+A\+R\+T\+\_\+\+E\+N\+E\+R\+GY}~0x0109
\begin{DoxyCompactList}\small\item\em Smart Energy Profile. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gaa90d7d1301c7de503f39113eb83e93e5}{W\+P\+A\+N\+\_\+\+P\+R\+O\+F\+I\+L\+E\+\_\+\+D\+I\+GI}~0x\+C105
\begin{DoxyCompactList}\small\item\em Digi International, mfg-\/specific. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Manufacturer I\+Ds}
\label{_amgrp81f39d32ef7ae17245197138275a83b5}%
Contact the Zig\+Bee Alliance to have a Manufacturer ID assigned to your company.

DO N\+OT use the Digi Manufacturer ID for your own manufacturer-\/specific profiles/clusters/attributes. \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_gaa70d29d210f9c88ba4d98192da5fe49e}{W\+P\+A\+N\+\_\+\+M\+A\+N\+U\+F\+A\+C\+T\+U\+R\+E\+R\+\_\+\+D\+I\+GI}~0x101E
\begin{DoxyCompactList}\small\item\em Digi International (Max\+Stream) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga1ead60857a680665668ceefcc848476f}{W\+P\+A\+N\+\_\+\+M\+A\+N\+U\+F\+A\+C\+T\+U\+R\+E\+R\+\_\+\+D\+I\+G\+I2}~0x1087
\begin{DoxyCompactList}\small\item\em Digi International. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga5c6e0e7a7b405359bceb6d8ccb95ea87}{W\+P\+A\+N\+\_\+\+M\+A\+N\+U\+F\+A\+C\+T\+U\+R\+E\+R\+\_\+\+T\+E\+S\+T1}~0x\+F\+F\+F1
\begin{DoxyCompactList}\small\item\em Test Vendor \#1. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga45102d99f16b30fb8773a2c8d1a03865}{W\+P\+A\+N\+\_\+\+M\+A\+N\+U\+F\+A\+C\+T\+U\+R\+E\+R\+\_\+\+T\+E\+S\+T2}~0x\+F\+F\+F2
\begin{DoxyCompactList}\small\item\em Test Vendor \#2. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga688f8334e635eccefb38df9ae08d8689}{W\+P\+A\+N\+\_\+\+M\+A\+N\+U\+F\+A\+C\+T\+U\+R\+E\+R\+\_\+\+T\+E\+S\+T3}~0x\+F\+F\+F3
\begin{DoxyCompactList}\small\item\em Test Vendor \#3. \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_ga860a08927c4e6d7656281713186c43dd}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+Z\+DO}~0x00
\begin{DoxyCompactList}\small\item\em Zig\+Bee Device Object/\+Profile. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga0c664cef1ec55fd759b5ec9d4bea2618}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+I\+G\+I\+\_\+\+SE}~0x5E
\begin{DoxyCompactList}\small\item\em Digi Smart Energy. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga97ce39dc7f8bc63ac9d874b1c807158d}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+DO}~0x\+E6
\begin{DoxyCompactList}\small\item\em Digi Device Objects. \end{DoxyCompactList}\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+I\+G\+I\+\_\+\+D\+E\+V\+I\+CE}~\hyperlink{group__wpan__aps_ga97ce39dc7f8bc63ac9d874b1c807158d}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+DO}
\item 
\#define \hyperlink{group__wpan__aps_ga83cb85a2a1e374554f9ad735c9c06e7b}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+D\+I\+G\+I\+\_\+\+D\+A\+TA}~0x\+E8
\begin{DoxyCompactList}\small\item\em Digi Data. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga1a2c2bd5eb7dcb276d89e7f7e9d66d32}{W\+P\+A\+N\+\_\+\+E\+N\+D\+P\+O\+I\+N\+T\+\_\+\+B\+R\+O\+A\+D\+C\+A\+ST}~0x\+FF
\begin{DoxyCompactList}\small\item\em Broadcast Endpoint. \end{DoxyCompactList}\end{DoxyCompactItemize}
\label{_amgrp01747264fe7bf50731df0522c351974e}%
Bitfields for {\ttfamily flags} parameter to a \hyperlink{group__wpan__aps_ga505477d0257efe527747c6d1f561cd6c}{wpan\+\_\+endpoint\+\_\+send\+\_\+fn()}. \begin{DoxyCompactItemize}
\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+S\+E\+N\+D\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}~0x0000
\item 
\#define {\bfseries W\+P\+A\+N\+\_\+\+S\+E\+N\+D\+\_\+\+F\+L\+A\+G\+\_\+\+E\+N\+C\+R\+Y\+P\+T\+ED}~0x0001
\end{DoxyCompactItemize}
\label{_amgrp01747264fe7bf50731df0522c351974e}%
Values for {\ttfamily flags} field of \hyperlink{structwpan__cluster__table__entry__t}{wpan\+\_\+cluster\+\_\+table\+\_\+entry\+\_\+t}. \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__wpan__aps_ga738343e3e3392f22d0a5d7615648ba53}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+NE}~0x00
\begin{DoxyCompactList}\small\item\em no flags \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga2024b5d21c6f8c2f151cc2b0576c08f4}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+I\+N\+P\+UT}~0x01
\begin{DoxyCompactList}\small\item\em input/server cluster (typically receives requests) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga0456c33bdaa673f37f9285a3f5ca0172}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+O\+U\+T\+P\+UT}~0x02
\begin{DoxyCompactList}\small\item\em output/client cluster (typically receives responses) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gaf1185ec162a18803e11a83491bf57d3d}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+I\+N\+O\+UT}~0x03
\begin{DoxyCompactList}\small\item\em both client and server cluster \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga9e0a1a0abf5594d8fa5a38b1ca40b3bc}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+S\+E\+R\+V\+ER}~\hyperlink{group__wpan__aps_ga2024b5d21c6f8c2f151cc2b0576c08f4}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+I\+N\+P\+UT}
\begin{DoxyCompactList}\small\item\em alias name for input cluster (uses Z\+CL terminology) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga9aae0646b212af63cbb07c98a33cd986}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+C\+L\+I\+E\+NT}~\hyperlink{group__wpan__aps_ga0456c33bdaa673f37f9285a3f5ca0172}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+O\+U\+T\+P\+UT}
\begin{DoxyCompactList}\small\item\em alias name for output cluster (uses Z\+CL terminology) \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga1eafd87038a2134da7a1f72e6801d23b}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+E\+N\+C\+R\+Y\+PT}~0x10
\begin{DoxyCompactList}\small\item\em Data sent or received by this cluster must be encrypted. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_ga1ccfd85378afaa02de5c3f9c71c17df4}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+E\+N\+C\+R\+Y\+P\+T\+\_\+\+U\+N\+I\+C\+A\+ST}~0x20
\begin{DoxyCompactList}\small\item\em Unicast data sent or received by this cluster must be encrypted, but unencrypted broadcast frames are OK. \end{DoxyCompactList}\item 
\#define \hyperlink{group__wpan__aps_gacb0e365a8c5e72ee90be503513e7e630}{W\+P\+A\+N\+\_\+\+C\+L\+U\+S\+T\+\_\+\+F\+L\+A\+G\+\_\+\+N\+O\+T\+\_\+\+Z\+CL}~0x80
\begin{DoxyCompactList}\small\item\em this cluster is N\+OT using the Zig\+Bee Cluster Library (Z\+CL) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Cluster/\+Endpoint layer for W\+P\+AN networks (Zig\+Bee and Digi\+Mesh). 

